{"ast":null,"code":"var _jsxFileName = \"/Users/kdbf/Desktop/Web/spice-haven-1/frontend/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Hero from '../components/home/Hero';\nimport SearchBar from '../components/products/SearchBar';\nimport CategoryFilter from '../components/products/CategoryFilter';\nimport ProductCard from '../components/products/ProductCard';\nimport ProductDetail from '../components/products/ProductDetail';\nimport Cart from '../components/cart/Cart';\nimport { useCart } from '../context/CartContext';\nimport './Pages.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [products, setProducts] = useState([]); // State for fetched products\n  const [loading, setLoading] = useState(true); // State for loading status\n  const [error, setError] = useState(null); // State for error handling\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const {\n    isCartOpen\n  } = useCart();\n  const categories = [\"Hot Sauces\", \"Spice Blends\", \"Whole Spices\"];\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await fetch('/api/products'); // Fetch products from backend\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setProducts(data); // Set fetched products\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        setError('Failed to fetch products. Please try again later.'); // Set error state\n      } finally {\n        setLoading(false); // Set loading to false\n      }\n    };\n    fetchProducts(); // Call the fetch function when the component mounts\n  }, []); // Empty dependency array means this effect runs only once on mount\n\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n  const handleCategoryChange = category => {\n    setSelectedCategory(category);\n  };\n  const handleProductClick = product => {\n    setSelectedProduct(product);\n  };\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = searchQuery === '' || product.name.toLowerCase().includes(searchQuery.toLowerCase()) || product.description.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesCategory = !selectedCategory || product.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page\",\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this); // Loading state\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-page error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this); // Error state\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page\",\n    children: [/*#__PURE__*/_jsxDEV(Hero, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-filter-section\",\n        children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n          onSearch: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CategoryFilter, {\n          categories: categories,\n          selectedCategory: selectedCategory,\n          onCategoryChange: handleCategoryChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"featured-products\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Featured Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"products-grid\",\n          children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n            product: product,\n            onClick: () => handleProductClick(product)\n          }, product.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), isCartOpen && /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 22\n    }, this), selectedProduct && /*#__PURE__*/_jsxDEV(ProductDetail, {\n      product: selectedProduct,\n      onClose: () => setSelectedProduct(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"9ixRgWc/HufJvLUM8asHJIbIKCY=\", false, function () {\n  return [useCart];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","Hero","SearchBar","CategoryFilter","ProductCard","ProductDetail","Cart","useCart","jsxDEV","_jsxDEV","HomePage","_s","products","setProducts","loading","setLoading","error","setError","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","selectedProduct","setSelectedProduct","isCartOpen","categories","fetchProducts","response","fetch","ok","Error","status","data","json","console","handleSearch","query","handleCategoryChange","category","handleProductClick","product","filteredProducts","filter","matchesSearch","name","toLowerCase","includes","description","matchesCategory","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","onCategoryChange","map","onClick","id","onClose","_c","$RefreshReg$"],"sources":["/Users/kdbf/Desktop/Web/spice-haven-1/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Hero from '../components/home/Hero';\nimport SearchBar from '../components/products/SearchBar';\nimport CategoryFilter from '../components/products/CategoryFilter';\nimport ProductCard from '../components/products/ProductCard';\nimport ProductDetail from '../components/products/ProductDetail';\nimport Cart from '../components/cart/Cart';\nimport { useCart } from '../context/CartContext';\nimport './Pages.css';\n\nconst HomePage = () => {\n  const [products, setProducts] = useState([]); // State for fetched products\n  const [loading, setLoading] = useState(true); // State for loading status\n  const [error, setError] = useState(null); // State for error handling\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const { isCartOpen } = useCart();\n\n  const categories = [\"Hot Sauces\", \"Spice Blends\", \"Whole Spices\"];\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const response = await fetch('/api/products'); // Fetch products from backend\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setProducts(data); // Set fetched products\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        setError('Failed to fetch products. Please try again later.'); // Set error state\n      } finally {\n        setLoading(false); // Set loading to false\n      }\n    };\n\n    fetchProducts(); // Call the fetch function when the component mounts\n  }, []); // Empty dependency array means this effect runs only once on mount\n\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n  };\n\n  const handleCategoryChange = (category) => {\n    setSelectedCategory(category);\n  };\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n  };\n\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = searchQuery === '' || \n      product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.description.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    const matchesCategory = !selectedCategory || product.category === selectedCategory;\n    \n    return matchesSearch && matchesCategory;\n  });\n\n  if (loading) {\n    return <div className=\"home-page\">Loading products...</div>; // Loading state\n  }\n\n  if (error) {\n    return <div className=\"home-page error-message\">{error}</div>; // Error state\n  }\n\n  return (\n    <div className=\"home-page\">\n      <Hero />\n      <div className=\"container\">\n        <div className=\"search-filter-section\">\n          <SearchBar onSearch={handleSearch} />\n          <CategoryFilter\n            categories={categories}\n            selectedCategory={selectedCategory}\n            onCategoryChange={handleCategoryChange}\n          />\n        </div>\n        <div className=\"featured-products\">\n          <h2>Featured Products</h2>\n          <div className=\"products-grid\">\n            {filteredProducts.map(product => (\n              <ProductCard\n                key={product.id}\n                product={product}\n                onClick={() => handleProductClick(product)}\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n      {isCartOpen && <Cart />}\n      {selectedProduct && (\n        <ProductDetail\n          product={selectedProduct}\n          onClose={() => setSelectedProduct(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default HomePage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}